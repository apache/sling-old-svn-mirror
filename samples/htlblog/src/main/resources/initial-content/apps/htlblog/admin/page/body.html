<body data-sly-use.edit="org.apache.sling.samples.htlblog.models.Edit">
<sly data-sly-include="nav.html"></sly>
<h1 data-sly-test.isEdit="${edit.post}">Editing ${edit.post.title}</h1>
<h1 data-sly-test="${!isEdit}">Create New</h1>
<form method="POST" action="${isEdit ? edit.post.getPath : '/content/htlblog/posts/*'}">
    <div><input type="text" name="title" value="${edit.post.title}"/></div>
    <div><textarea name="body" cols="40" rows="5">${edit.post.body}</textarea></div>
    <div>
        <input type="hidden" name="created"/>
        <input type="hidden" name="createdBy"/>
        <input type="hidden" name="jcr:primaryType" value="nt:unstructured"/>
        <input type="hidden" name="sling:resourceType" value="htlblog/post"/>
    </div>
    <div><input type="submit" value="Post" class="button"></div>
</form>